<?xml version="1.0" encoding="utf-8"?>
<Module>
<ModulePrefs title="身体健康指数" description="身体脂肪健康指数(BMI)计算，看看自己的身材怎么样吧，适合正常成年人" author="迈弄" author_affiliation="迈弄" author_link="http://www.mynon.cn" height="220" scaling="false">
	<Require feature="dynamic-height"/>
</ModulePrefs>
<Content type="html">
<![CDATA[
<script type="text/javascript">
function showWData(data){
	var data=eval('('+data+')');
	var div = _gel("mn_71");
	var htmlCode='';
	if(data.u && data.t){
		var htmlCode = '<img style="margin-bottom:-3px;width:16px;height:16px;" src="'+unescape(data.i)+'" /> <a href="http://www.mynon.cn/files/bk_click.php?id=m_'+data.w+'&uid='+unescape(data.u)+'&f=os_ty" target="_blank">'+unescape(data.t)+'</a>';
		div.innerHTML=htmlCode;
	}else{
		div.style.display="none";
	}
	_IG_AdjustIFrameHeight();
}
function getWData(wid) {
	var url='http://www.mynon.cn/widget/data/interlink/tianya/'+wid+'/json';
	_IG_FetchContent(url, showWData, {refreshInterval:0});
}
function initWData() {
	var wid=71;
	getWData(wid);
}
_IG_RegisterOnloadHandler(initWData);

function checkbmi(i){
	if(i.s[0].checked){var s=0;}else{var s=1;}
	var h=i.h.value,w=i.w.value;
	if(h==""){
		alert("请填写身高！");
		return false;
	}else if(w==""){
		alert("请填写体重！");
		return false;
	}
	var bmi=w/Math.pow(h/100,2),rtnText="评价：<span class=\"bmiR\">",src="";
	if(s==0){src+="m";}else{src+="w";}
	if(bmi<14){
		rtnText+="太瘦咯！";
		src+="0";
	}else if((bmi>=14)&&(bmi<18.5)){
		rtnText+="有点瘦哦！";
		src+="0";
	}else if((bmi>=18.5)&&(bmi<22)){
		rtnText+="标准身材！";
		src+="1";
	}else if((bmi>=22)&&(bmi<24)){
		rtnText+="理想身材！";
		src+="1";
	}else if((bmi>=24)&&(bmi<24.9)){
		rtnText+="标准身材！";
		src+="1";
	}else if((bmi>=24.9)&&(bmi<27)){
		rtnText+="有点胖哦！";
		src+="2";
	}else if((bmi>=27)&&(bmi<30)){
		rtnText+="轻度肥胖！";
		src+="2";
	}else if((bmi>=30)&&(bmi<35)){
		rtnText+="中度肥胖！";
		src+="2";
	}else if(bmi>=35){
		rtnText+="太胖咯！";
		src+="2";
	}
	rtnText+="</span>";
	bmi=Math.round(bmi);
	document.getElementById("bmiCon").className="bmiCon bmi"+src;
	$(document.getElementById("bmi")).html("BMI指数："+bmi+"<br \/>"+rtnText);
	return false;
}
</script>
<style type="text/css">
div{font-size:12px;}
.wd{padding:2px 0;font-size:12px;clear:both;}
.bmiCon {
	width:280px;
	height:85px;
	margin:0 auto;
}
.bmiD {
	background:url(http://www.mynon.cn/images/bk/img/bmi.gif) no-repeat 120px 0;
}
#bmi {
	margin-left:170px;
	padding:20px 0;
}
.bmiw0 {
	background:url(http://www.mynon.cn/images/bk/img/bmi.gif) no-repeat 120px -100px;
}
.bmim0 {
	background:url(http://www.mynon.cn/images/bk/img/bmi.gif) no-repeat 120px -200px;
}
.bminput {
	padding:0;
	height:16px;
}
.bmiR {
	color:#FF7802;
	font-weight:bold;
}
.bmiw1 {
	background:url(http://www.mynon.cn/images/bk/img/bmi.gif) no-repeat 120px -500px;
}
.bmiw2 {
	background:url(http://www.mynon.cn/images/bk/img/bmi.gif) no-repeat 120px -600px;
}
.bmim1 {
	background:url(http://www.mynon.cn/images/bk/img/bmi.gif) no-repeat 120px -300px;
}
.bmim2 {
	background:url(http://www.mynon.cn/images/bk/img/bmi.gif) no-repeat 120px -400px;
}
</style>
<div id="bmiCon" class="bmiCon bmiD">
<div style="float:left;width:120px;">
<form action="javascript:void(0)" onsubmit="return checkbmi(this)">
性别：<input type="radio" name="s" value="0" checked="checked" /><img src="http://www.mynon.cn/images/bk/img/ico_mon.gif" />
<input type="radio" name="s" value="1" /><img src="http://www.mynon.cn/images/bk/img/ico_fon.gif" /><br/>
身高：<input type="text" class="bminput" size="5" name="h" /> cm<br />
体重：<input type="text" class="bminput" size="5" name="w" /> KG
<div style="text-align:center"><input type="submit" value="确 定" /></div>
</form></div><div id="bmi"></div></div>
<div id="mn_71" class="wd"></div>
]]>
</Content>
</Module>